<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Testes - HTML</title>

    <script src="spec.js"></script>
</head>
<body>

    <!-- Testes (TDD - testes unitários) 
    
    - Primeiro, escrever o teste;
    - Segundo, criar a função para corrigir o teste;
    - Terceiro, refatora a função;

    - Ferramentas:
      - Mocha
      - Chai
      - Jasmine
      - Ava
      - Jest
    
    -->

    <script>
    
        assert.describe("Calcular média", () => {
            assert(media(1,3) === 2, "media(1,3) deve retornar 2");
            assert(media(2,2,5) === 3, "media(1,3) deve retornar 3");
            assert(media(1) === 1, "media(1) deve retornar 1");
            assert(media('1') === 1, "media('1') deve retornar 1");
            assert(media('1', '3') === 2, "media('1', '3') deve retornar 2");
            assert(media('1', 3.8) === 2.4, "media('1', 3.8) deve retornar 2.4");
            assert(media(0,0,3) === 1, "media(0,0,3) deve retornar 1");
            assert(media(0) === 0, "media(0) deve retornar 0");
            assert(media() === 0, "media(0) deve retornar 0");
        });

        function media(...numeros){
            if (numeros[0] === undefined) return 0;
            let total = numeros
                        .map( n => parseFloat(n) )
                        .reduce( (a,b) => a + b); // soma os valores
            return total / numeros.length;
        }

    </script>
    
</body>
</html>