<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Index - Strings</title>
</head>
<body>
    
<!-- Exemplos de strings (replace, indexOf, lastIndexOf, slice, substring, split, toLowerCase, toUpperCase)

    var x = "minha string";

    Exemplo de replace:

    var x = "minha string";

    x.replace('i', 'I');  == Nesse caso acontece a substituição de apenas uma letra, a primeira da string.

    x.replace(/i/g, 'I'); == Acontece a substituição de todas as letras "i" da string (expressão regular).

    ==================================================================================================================

    indexOf = função que trás a posição do caracter na string

    var teste = "minha string";

    teste.indexOf('a'); == retorna 4; Se retornas -1, significa que não foi encontrado o caracter.

    ==================================================================================================================
    
    lastIndexOf = mesma coisa do indexOf, mas do último para o primeiro.

    ==================================================================================================================

    slice = ele corta a string conforma vc exigir.

    var teste = "minha string";

    teste.slice(5); == retorna " string"; a partir da posição 5 ele corta a string.

    Se colocar dois parâmetros, tipo: teste.slice(5, 10), na posição 5 até a 10 será incluída, o restante será excluída.

    ==================================================================================================================

    substring = mesma coisa do slice, mas quando coloca ao contrário os parâmetros ele funciona da mesma forma, já o slice não.

    ==================================================================================================================

    split = retorna uma array a partir de como será separada a string.
    
    Exemplo:
    var teste = "minha string"; 

    teste.split(' '); == retorna ['minha', 'string'];

    ==================================================================================================================

    toLowerCase = deixa tudo minúsculo;

    Exemplo:
    var teste = "minha string"; 

    teste.toLowerCase();

    ==================================================================================================================

    toUpperCase = deixa tudo minúsculo;

    Exemplo:
    var teste = "minha string"; 

    teste.toUpperCase();

-->


<!-- Problema -->
<!-- Criar uma função que recebe um nome completo e retorna este nome formatado, seguindo o exemplo: -->
<!-- "Daniel Tapias Morales" será formatado em: -->
<!-- "Morales, Daniel Tapias". -->


<script>
    
    var nome = 'Daniel Tapias Morales';
    var nomeFormatado = nomeFormatado(nome); // variável onde será armazenado o retorno da função, passando como parâmetro a variável nome.

    function nomeFormatado(nome) {
        var posicaoUltimoEspaco = nome.lastIndexOf(' '); // pega a posição do último espaço

        if (posicaoUltimoEspaco <= 0) { // se não tiver algum espaço na string ele retorna o nome
            return nome;
        }

        var ultimoNome = nome.slice(posicaoUltimoEspaco + 1); // armazena na variável tudo que estiver da posição 13 em diante. O +1 serve para não contar o último espaço em branco da string

        var primeiroNome = nome.slice(0, posicaoUltimoEspaco); // armazena na variável tudo que estiver da posição 0 até a 13 da string

        return ultimoNome + ', ' + primeiroNome; // pega o último valor armazenado a partir do último espaço e soma na string os primeiros valores.
    }

    console.log(nomeFormatado);
</script>



<!-- ======================================================================================================================= -->


<!-- Desafio -->
<!-- Selecionar todos os parágrafos de uma página e, se o texto tiver mais do que duzentos caracteres, mostrar somente os duzentos primeiros seguidos de reticencias. -->

<div class="desafio">
    <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed feugiat lacus id velit ornare dignissim. Pellentesque ac posuere sapien, vitae dignissim nisl. Cras imperdiet consequat dui sit amet sollicitudin.</p>
    <p>Vestibulum varius feugiat tincidunt. Sed imperdiet luctus laoreet. Donec ultricies lacus rutrum, finibus purus eget, commodo nibh. Aliquam sagittis tempus viverra. Vivamus nibh sem, molestie id metus non, imperdiet fringilla lacus. Nulla ultrices accumsan dignissim. Sed ullamcorper posuere interdum. Suspendisse sed ligula tincidunt, mollis metus maximus, tincidunt elit. Vestibulum ut libero diam. Aliquam erat volutpat.</p>
    <p>Vivamus nibh sem, molestie id metus non, imperdiet fringilla lacus. Nulla ultrices accumsan dignissim. Sed ullamcorper posuere interdum. Suspendisse sed ligula tincidunt, mollis metus maximus, tincidunt elit. Vestibulum ut libero diam. Aliquam erat volutpat.</p>
    <p>Cras nisl erat, efficitur ut erat vel, ullamcorper commodo ante. Vivamus metus odio, vulputate vel tincidunt et, rutrum id odio. Sed convallis lorem sed dignissim ultrices. Quisque sit amet turpis aliquet, molestie elit eget, rhoncus ipsum. Donec laoreet dolor imperdiet sodales lobortis. Vestibulum molestie turpis in mauris fermentum cursus. Donec vulputate turpis nec fermentum aliquam.</p>
    <p>Suspendisse nibh metus, aliquet varius libero euismod, eleifend molestie ex. Morbi eu augue sed odio placerat efficitur et at quam.</p>
    <p>Maecenas a ante faucibus lacus luctus elementum. Pellentesque pellentesque lorem non dui efficitur, et egestas lacus scelerisque. Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas. In sodales dapibus mauris id dictum.</p>
    <p>Aenean ut lacinia lacus. Cras pretium orci lacus, vel lacinia mauris varius nec. Fusce ornare imperdiet tortor, a faucibus elit porttitor a. Phasellus dictum dui eget varius egestas. Integer vel odio a diam porttitor pulvinar non id quam. Phasellus et elementum neque. Duis sed molestie magna. Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos himenaeos. Aenean tincidunt magna lectus, ut mollis neque accumsan quis. Donec sed aliquet sem. Cras enim lorem, viverra et molestie in, blandit non lorem. Nulla euismod molestie urna ac imperdiet. Praesent id sollicitudin sem. Fusce quis mi urna.</p>
</div>

<script>   

(function(){
    var p = document.querySelectorAll('p'); // cria um array com todos os <p> do site

    var x = 0;
    while(p[x]) {
        var tamanho = p[x].innerHTML.length; // a variável "tamanho" armazena o tamanho da string dentro do elemento
        var texto = p[x].innerHTML; // a variável "texto" armazena a string dentro do elemento

        if (tamanho > 200) { // se a string tiver mais que 200 caracteres
            var txt = texto.slice(0, 200); // variável "txt" armazena a variável "texto" da posição 0 até 200
            p[x].innerHTML = txt + '...'; // pega o conteúdo do elemento <p> e troca por "txt" + 3 pontinhos.
        }

        x++;
    }

})();

</script>

</body>
</html>